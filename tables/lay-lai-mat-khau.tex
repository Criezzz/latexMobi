% !TeX root = ../main.tex
% Bảng dài tự ngắt trang: dùng ltablex (tabularx dạng longtable) và không đặt trong float
% In caption theo style của class `uetgraduation`
{\makeatletter
 \refstepcounter{a@table} % tăng số bảng
 \def\@captype{a@table} % đặt loại caption là bảng
 \def\@captiontext{\centering Bảng kiểm thử: Lấy lại mật khẩu} % nội dung caption
 \noindent\attachmentcaption\par\vspace{0.25cm} % in caption và giãn cách
\makeatother}

\setlength{\tabcolsep}{5pt}
\renewcommand{\arraystretch}{1.25}
\setlength{\arrayrulewidth}{1pt}

\begin{tabularx}{\textwidth}{|
  >{\centering\arraybackslash}p{1.2cm}|
  >{\raggedright\arraybackslash}X|
  >{\raggedright\arraybackslash}X|
  >{\raggedright\arraybackslash}X|
  >{\raggedright\arraybackslash}X|
  >{\centering\arraybackslash}p{2.2cm}|
}
\hline
\multicolumn{3}{|c|}{} &\multicolumn{3}{|c|}{\parbox[t]{8cm}{\raggedright Ngày thực hiện: 5/11/2024\\ Người thực hiện: Nguyễn Văn Cường}}\\
\hline
\multirow{2}{*}{STT} & \multicolumn{1}{|c|}{\multirow{2}{*}{Mô tả}} & \multicolumn{1}{|c|}{\multirow{2}{*}{Đầu vào}} & \multicolumn{2}{c|}{Đầu ra} & \multirow{2}{*}{Trạng thái}\\
\cline{4-5}
 &  &  & Đầu ra mong muốn & Đầu ra thực tế & \\
\hline
\endfirsthead

\hline
\multirow{2}{*}{STT} & \multicolumn{1}{|c|}{\multirow{2}{*}{Mô tả}} & \multicolumn{1}{|c|}{\multirow{2}{*}{Đầu vào}} & \multicolumn{2}{c|}{Đầu ra} & \multirow{2}{*}{Trạng thái}\\
\cline{4-5}
 &  &  & Đầu ra mong muốn & Đầu ra thực tế & \\
\hline
\endhead

    \multicolumn{6}{|c|}{Giai đoạn 1: Nhập tài khoản} \\
    \hline
    1 & Nhập tên đăng nhập tồn tại & username= ``\seqsplit{testusername1}'' & Gửi mail khôi phục đến email tương ứng, chuyển sang giao diện nhập OTP & Gửi mail khôi phục đến email tương ứng, chuyển sang giao diện nhập OTP & Pass \\
    \hline
    2 & Nhập email tồn tại & username= ``\seqsplit{cuong190105@gmail.com}'' & Gửi mail khôi phục đến email tương ứng, chuyển sang giao diện nhập OTP & Gửi mail khôi phục đến email tương ứng, chuyển sang giao diện nhập OTP & Pass \\
    \hline
    3 & Nhập tài khoản không tồn tại & username= ``\seqsplit{testpassword}'' & Thông báo tài khoản không tồn tại & Thông báo User not found & Failed \\
    \hline
    4 & Bỏ trống tài khoản & username & Nút Gửi OTP bị vô hiệu hóa & Nút gửi OTP không bấm được & Pass \\
    \hline
    5 & gửi yêu cầu khôi phục một tại khoản nhiều hơn 1 lần/phút & username= ``\seqsplit{testusername1}'' & Thông báo yêu cầu quá nhanh & Thông báo yêu cầu quá nhanh & Pass \\
    \hline
    \multicolumn{6}{|c|}{Giai đoạn 2: Nhập OTP} \\
    \hline
    6 & Nhập sai OTP & OTP= ``000000'' & Thông báo sai OTP & Thông báo sai OTP & Pass \\
    \hline
    7 & Gửi lại OTP &  & Gửi email khôi phục mới, vô hiệu hóa nút gửi lại trong 60s & Gửi email khôi phục mới, vô hiệu hóa nút gửi lại trong 60s & Pass \\
    \hline
    8 & Nhập đúng OTP & OTP= ``330478'' & Vô hiệu hóa ô nhập OTP, hiển thị ô nhập mật khẩu mới & Vô hiệu hóa ô nhập OTP, hiển thị ô nhập mật khẩu mới & Pass \\
    \hline
    \multicolumn{6}{|c|}{Giai đoạn 3: Nhập mật khẩu mới} \\
    \hline
    9 & Nhập mật khẩu ngắn & password= ``abc'', \seqsplit{password\_confirmation}= ``abc'' & Thông báo mật khẩu ít nhất 8 kí tự & Thông báo mật khẩu ít nhất 6 kí tự & Failed \\
    \hline
    10 & Nhập mật khẩu hợp lệ, xác nhận không khớp & password= ``\seqsplit{testusername1}'', \seqsplit{password\_confirmation}= ``abc'' & Thông báo mật khẩu xác nhận không khớp & Thông báo mật khẩu xác nhận không khớp & Pass \\
    \hline
    11 & Nhập mật khẩu hợp lệ, xác nhận khớp & password= ``\seqsplit{testusername1}'', \seqsplit{password\_confirmation}= ''\seqsplit{testusername1}'' & Thông báo mật khẩu đổi thành công, chuyển đến màn hình đăng nhập & Thông báo mật khẩu đổi thành công, chuyển đến màn hình đăng nhập & Pass \\
    \hline
\end{tabularx}